(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf81c324"],{"01ab":function(t,e,s){"use strict";s("2bb6")},"0203":function(t,e,s){"use strict";s("95ae")},"0436":function(t,e,s){},"0e95":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"list-songs "+(t.className||"")},[s("div",[t._l(t.songs,(function(e,n){return s("div",{key:e,class:"song-item "+(t.allSongs[e].url?"hasUrl":"disabled"),on:{click:function(s){return t.playMusic({id:e,arr:t.songs})}}},[t.showIndex?s("div",{staticClass:"song-order"},[t._v(t._s(n+1))]):t._e(),t.favSongMap[t.allSongs[e].platform]&&t.favSongMap[t.allSongs[e].platform][e]?s("div",{staticClass:"liked-item"}):t._e(),t.playNow.aId===e?s("div",{staticClass:"playing-bg",style:"width: "+100*t.playingPercent+"%"},[s("div",{staticClass:"wave-bg"}),s("div",{staticClass:"wave-bg2"})]):t._e(),t.countMap&&t.countMap[e]?s("div",{staticClass:"count-bg",style:"width: "+t.countMap[e].score+"%"}):t._e(),t.showCover?s("div",{staticClass:"song-album-img",style:"background-image: url('"+(t.allSongs[e].al&&t.allSongs[e].al.picUrl+"?param=50y50")+"')"}):t._e(),s("div",{staticClass:"song-name"},[t._v("\n        "+t._s(t.allSongs[e].name)+"\n\n        "),t.showCover&&t.allSongs[e].mvId?s("a",{staticClass:"inline-block ml_5 iconfont icon-mv",staticStyle:{"font-size":"14px","font-weight":"100"},attrs:{href:t.changeUrlQuery({id:t.allSongs[e].mvId,from:t.allSongs[e].platform},"#/mv",!1)}}):t._e()]),s("div",[s("div",{staticClass:"song-ar"},[!t.showCover&&t.allSongs[e].mvId?s("a",{staticClass:"inline-block mr_5 iconfont icon-mv",attrs:{href:t.changeUrlQuery({id:t.allSongs[e].mvId,from:t.allSongs[e].platform},"#/mv",!1)}}):t._e(),t._v("\n          "+t._s(t.allSongs[e].ar.map((function(t){return t.name})).join("/"))+"\n        ")]),s("div",{staticClass:"song-operation"},[t.favSongMap[t.allSongs[e].platform]?s("i",{class:"operation-icon operation-icon-1 iconfont icon-"+(Boolean(t.favSongMap[t.allSongs[e].platform][e])?"like":"unlike"),on:{click:function(s){return t.likeMusic(e)}}}):t._e(),"migu"!==t.allSongs[e].platform?s("i",{staticClass:"operation-icon operation-icon-2 iconfont icon-add",on:{click:function(s){return t.playlistTracks(e,"add","ADD_SONG_2_LIST")}}}):t._e(),t.allSongs[e].url&&t.playingList.map[e]?s("i",{staticClass:"operation-icon operation-icon-3 iconfont icon-list-reomve",on:{click:function(s){return t.removePlaying(e)}}}):t._e(),t.allSongs[e].url&&!t.playingList.map[e]?s("i",{staticClass:"operation-icon operation-icon-3 iconfont icon-list-add",on:{click:function(s){return t.addPlaying(e)}}}):t._e(),t.allSongs[e].url?s("i",{staticClass:"operation-icon operation-icon-4 iconfont icon-download",on:{click:function(s){return t.download(e)}}}):t._e(),t.countMap&&t.countMap[e]?s("span",{staticClass:"played-count-num"},[t._v(t._s(t.countMap[e].count))]):t._e()])])])})),0===(t.songs||[]).length?s("div",{staticClass:"text-center mt_40"},[t._v(t._s(t.emptyText||"没啥歌曲哟"))]):t._e()],2),(t.songs||[]).length?s("div",{staticClass:"fix-play-btn",on:{click:function(e){return t.playList(t.songs)}}},[s("i",{staticClass:"iconfont icon-play"}),s("span",{staticClass:"btn-txt"},[t._v("播放列表")])]):t._e()])},a=[],i=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),o=s("2f62"),r=s("ceb6"),c=s("f503"),l=s("0828");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(Object(s),!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={name:"song",props:{songs:Array,className:String,emptyText:String,countMap:Object,showIndex:Boolean,showCover:Boolean},computed:p({},Object(o["b"])({allSongs:"getAllSongs",playNow:"getPlaying",playingPercent:"getPlayingPercent",favSongMap:"getFavSongMap",playingList:"getPlayingList"})),methods:p(p({},c["a"]),{},{likeMusic:r["m"],download:r["e"],changeUrlQuery:l["a"],playlistTracks:function(t,e,s,n){window.event.stopPropagation(),this.$store.dispatch("setOperation",{data:{tracks:t,op:e},type:s,platform:n})}})},m=g,f=(s("0203"),s("2877")),d=Object(f["a"])(m,n,a,!1,null,null,null);e["a"]=d.exports},"2bb6":function(t,e,s){},"2d3b":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"search-page-container "+(t.show&&"show"),on:{scroll:t.onScroll}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],staticClass:"search-input mt_15",attrs:{type:"text",placeholder:"Search..."},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),s("div",{staticClass:"platform-select"},t._l(["163","qq"],(function(e){return s("i",{class:"iconfont icon-"+e+" "+(t.platform===e&&"active"),on:{click:function(s){return t.search("platform",e)}}})})),0),s("div",{staticClass:"ml_10 mt_10 mb_20"},t._l(t.typeList,(function(e){return"163"===t.platform||e.hasQQ?s("div",{key:"type-"+e.val,class:"search-type "+e.color+" "+(t.searchQuery.type===e.val&&"selected"),on:{click:function(s){return t.search("type",e.val)}}},[s("i",{class:"iconfont icon-"+e.icon}),t._v("\n        "+t._s(e.text)+"\n      ")]):t._e()})),0),0===t.searchQuery.type?s("SongList",{attrs:{"class-name":"search-page",showIndex:"",showCover:"","empty-text":"空空如也！",songs:t.searchQuery.songs||[]}}):t._e(),2===t.searchQuery.type?s("AlbumList",{attrs:{"empty-text":"空空如也！",albums:t.searchQuery.albums}}):t._e(),3===t.searchQuery.type?s("SingerList",{attrs:{"empty-text":"空空如也！",singers:t.searchQuery.singers}}):t._e(),1===t.searchQuery.type?s("div",[t.searchQuery.playlists&&t.searchQuery.playlists.length>0?s("div",{staticClass:"playlist-list result-list"},t._l(t.searchQuery.playlists,(function(e){return s("div",{staticClass:"playlist-item",on:{click:function(s){return t.changeUrlQuery({id:e.id,from:e.platform},"#/playlist/detail")}}},[s("img",{staticClass:"playlist-img",attrs:{src:e.cover+"?param=120y120"}}),s("div",{staticClass:"playlist-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"playlist-author"},[t.userList[e.platform]&&!t.userList[e.platform].mine[e.platform+"_"+e.id]?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.subscribed?"已收藏":"收藏",placement:"top"}},[s("i",{class:"inline-block mr_10 iconfont icon-"+(t.userList[e.platform].sub[e.platform+"_"+e.id]?"collected":"collect"),on:{click:function(s){return t.collectPlaylist(e)}}})]):t._e(),e.creator&&e.creator.nick?s("span",[t._v("By: "+t._s(e.creator.nick))]):t._e(),s("span",{staticClass:"pl_20"},[s("i",{staticClass:"iconfont icon-yinyue"}),t._v(": "+t._s(t.numToStr(e.playCount||0)))])],1),s("div",{staticClass:"playlist-trackcount"},[t._v(t._s(e.trackCount))])])})),0):t._e(),t.searchQuery.playlists&&0!==t.searchQuery.playlists.length?t._e():s("div",{staticClass:"empty-status"},[t._v("\n        空空如也！\n      ")])]):t._e()],1)},a=[],i=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),o=(s("386d"),s("bd86")),r=s("ceb6"),c=s("0828"),l=s("2f62"),u=(s("f503"),s("1157")),p=s.n(u),g=s("aa67"),m=s("ec3d"),f=s("7097"),d=s("0e95");function y(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function v(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?y(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var h={name:"Search",components:{AlbumList:m["a"],SingerList:f["a"],SongList:d["a"]},data:function(){return{show:!1,keywords:"",typeList:[{val:0,color:"red",icon:"song",text:"歌曲",hasQQ:!0},{val:2,color:"blue",icon:"album",text:"专辑",hasQQ:!0},{val:3,color:"green",icon:"singer",text:"歌手",hasQQ:!0},{val:1,color:"yellow",icon:"playlist",text:"歌单",hasQQ:!0}],platform:"163",qqId:g["a"].get("qqId"),loading:!1}},computed:v({},Object(l["b"])({searchQuery:"getSearch",allSongs:"getAllSongs",playNow:"getPlaying",playingPercent:"getPlayingPercent",allList:"getAllList",userList:"getUserList",qUserList:"getQUserList",favSongMap:"getFavSongMap",user:"getUser"})),watch:{keywords:function(t){var e=this,s=function(){setTimeout((function(){t===e.keywords&&e.search("keywords",t)}),500)};s()}},created:function(){var t=this;setTimeout((function(){return t.show=!0}),1),this.platform=this.searchQuery.platform,this.keywords=this.searchQuery.keywords},beforeDestroy:function(){this.show=!1},methods:{search:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,s){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.searchQuery,a=this.loading,!a){t.next=3;break}return t.abrupt("return");case 3:return this.loading=!0,n.pageNo=1,n[e]=s,this.platform=n.platform,t.next=9,Object(r["p"])(n);case 9:this.loading=!1;case 10:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),playMusic:function(t){var e=this.$store.dispatch,s=this.allSongs,n=this.searchQuery,a=s[t];a.url&&(e("updatePlayNow",a),e("updatePlayingList",{list:n.songs}),e("updatePlayingStatus",!0))},onScroll:function(){var t=this.searchQuery,e=t.pageNo,s=t.total,n=t.loading,a=p()(".search-page-container"),i=a.height(),o=a.get(0).scrollHeight,r=a.scrollTop();o-i-r<150&&30*e<s&&!n&&this.search("pageNo",e+1)},likeMusic:r["m"],collectPlaylist:r["b"],changeUrlQuery:c["a"],playlistTracks:function(t,e,s){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"163";window.event.stopPropagation(),this.$store.dispatch("setOperation",{data:{tracks:t,op:e},type:s,platform:n})},goTo:function(t){window.location=t},download:r["e"],numToStr:c["d"]}},b=h,_=(s("f828"),s("2877")),w=Object(_["a"])(b,n,a,!1,null,"03419bad",null);e["default"]=w.exports},7097:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"list-singers "+(t.className||"")},[t._l(t.singers,(function(e){return s("div",{staticClass:"singer-item",on:{click:function(s){return t.goTo(e)}}},[s("img",{staticClass:"singer-img",attrs:{src:e.picUrl+"?param=120y120"}}),s("div",{staticClass:"singer-name"},[t._v(t._s(e.name))])])})),0===(t.singers||[]).length?s("div",{staticClass:"text-center mt_40"},[t._v(t._s(t.emptyText||"没啥歌手哟"))]):t._e()],2)},a=[],i=s("0828"),o={name:"singer",props:{singers:Array,emptyText:String,className:String},methods:{goTo:function(t){var e=t.id,s=t.mid,n=t.platform;Object(i["a"])({id:e,mid:s,from:n},"#/singer")}}},r=o,c=(s("f514"),s("2877")),l=Object(c["a"])(r,n,a,!1,null,null,null);e["a"]=l.exports},"7f80":function(t,e,s){},"95ae":function(t,e,s){},ec3d:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"list-albums "+(t.className||"")},[t._l(t.albums,(function(e){return s("div",{key:e.id,staticClass:"album-item"},[s("div",{staticClass:"album-img-container pointer",on:{click:function(s){return t.goTo(e)}}},[s("img",{attrs:{src:e.picUrl+"?param=200y200"}})]),s("div",{staticClass:"album-name pointer",on:{click:function(s){return t.goTo(e)}}},[t._v(t._s(e.name))])])})),0===(t.albums||[]).length?s("div",{staticClass:"text-center mt_40"},[t._v(t._s(t.emptyText||"没啥专辑哟"))]):t._e()],2)},a=[],i=s("0828"),o={name:"album",props:{albums:Array,className:String,emptyText:String},methods:{goTo:function(t){var e=t.id,s=t.mid,n=t.platform;Object(i["a"])({id:e,mid:s,from:n},"#/album")}}},r=o,c=(s("01ab"),s("2877")),l=Object(c["a"])(r,n,a,!1,null,null,null);e["a"]=l.exports},f514:function(t,e,s){"use strict";s("7f80")},f828:function(t,e,s){"use strict";s("0436")}}]);
//# sourceMappingURL=chunk-cf81c324.69e16de5.js.map